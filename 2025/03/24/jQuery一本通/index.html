<!doctype html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    
    
    <title>jQuery一本通 | Yoyo&#39;s blog</title>
    
    <link rel="alternative" href="/atom.xml" title="Yoyo&#39;s blog" type="application/atom+xml">
    
    
<link rel="stylesheet" href="/css/style.css">

    
    <link rel="stylesheet" href="/libs/fancybox/jquery.fancybox.css" charset="utf-8">
    
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
<!-- hexo injector head_end start --><script src="./func.js"></script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"></head>
<body class="site">
    <!-- 遮罩层 -->
    <div id="mask-layer">
    </div>
    
    <header class="site-header">
        <h1 class="site-title"><a href="/">Yoyo&#39;s blog</a></h1>
        <nav class="site-nav">
            <ul class="nav">
                
                <li><a href="/">Home</a></li>
                
                <li><a href="/archives">Archives</a></li>
                
                
                <li><a href="/atom.xml" title="RSS Feed">rss</a></li>
                
                <li><a class="toggle-search" href="#search">search</a></li>
            </ul>
        </nav>
        <div class="site-search" id="search">
            <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><input type="hidden" name="sitesearch" value="https://70v-yoyo.github.io"></form>
        </div>
        
            <div class="site-header-background" style="background-image:url('http://reumia.github.io/hexo-theme-zzoman2015/images/background-zzoman2015.jpg')"></div>
        
    </header>
    <div class="site-body">
        <div class="global-width">
    <article class="article" data-layout="post" data-slug="jQuery一本通">
        <div class="article-content">
            
            
            <header class="article-header">
                <div class="article-meta">
                    <a href="/2025/03/24/jQuery%E4%B8%80%E6%9C%AC%E9%80%9A/" class="article-date">
  <time datetime="2025-03-24T11:12:38.000Z">2025-03-24</time>
</a>
                    
                    
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/frontend/" rel="tag">frontend</a></li></ul>

                </div>
                
    <h1 class="article-title" itemprop="name">
      <a href="/2025/03/24/jQuery%E4%B8%80%E6%9C%AC%E9%80%9A/">jQuery一本通</a>
    </h1>

            </header>
            
            <div class="article-body">
                <meta name="referrer" content="no-referrer" />

<blockquote>
<p>版本：250324</p>
</blockquote>
<hr>
<h1 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h1><ul>
<li>JavaScript 库<br>  JavaScript库：即 library，是一个封装好的特定的集合（方法和函数）。从封装一大堆函数的角度理解库，就是在这个库中，封装了很多预先定义好的函数在里面，比如动画animate、hide、show，比如获取元素等。</li>
</ul>
<blockquote>
<p>简单理解： 就是一个JS 文件，里面对我们原生js代码进行了封装，存放到里面。这样我们可以快速高效的使用这些封装好的功能了。<br>比如 jQuery，就是为了快速方便的操作DOM，里面基本都是函数（方法）。</p>
</blockquote>
<pre><code>常见的JavaScript 库：jQuery、Prototype、YUI、Dojo、Ext JS、移动端的zepto等，这些库都是对原生 JavaScript 的封装，内部都是用 JavaScript 实现的。
</code></pre>
<ul>
<li>jQuery<br>是一个快速、简洁的 JavaScript 库，其设计的宗旨是“write Less，Do More”，即倡导写更少的代码，做更多的事情。 j 就是 JavaScript；   Query 查询； 意思就是查询js，把js中的DOM操作做了封装，我们可以快速的查询使用里面的功能。<br>jQuery 封装了 JavaScript 常用的功能代码，优化了 DOM 操作、事件处理、动画设计和 Ajax 交互。</li>
<li>jQuery的优点</li>
</ul>
<ol>
<li>轻量级。核心文件才几十kb，不会影响页面加载速度。</li>
<li>跨浏览器兼容，基本兼容了现在主流的浏览器。消除浏览器差异：你不需要自己写冗长的代码来针对不同的浏览器</li>
<li>链式编程、隐式迭代。</li>
<li>对事件、样式、动画支持，大大简化了DOM操作。简洁的操作DOM的方法：写$(‘#test’)肯定比document.getElementById(‘test’)来得简洁；</li>
<li>支持插件扩展开发。有着丰富的第三方的插件，例如：树形菜单、日期控件、轮播图等。轻松实现动画、修改CSS等各种操作。</li>
<li>免费、开源。</li>
</ol>
<h1 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h1><ul>
<li>jQuery 的下载<br> jQuery的官网地址： <a target="_blank" rel="noopener" href="https://jquery.com/%EF%BC%8C%E5%AE%98%E7%BD%91%E5%8D%B3%E5%8F%AF%E4%B8%8B%E8%BD%BD%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%E3%80%82">https://jquery.com/，官网即可下载最新版本。</a><blockquote>
<p> 各个版本的下载：<a target="_blank" rel="noopener" href="https://code.jquery.com/">https://code.jquery.com/</a><br> 版本介绍：<br> 1x ：兼容 IE 678 等低版本浏览器， 官网不再更新</p>
<p> 2x ：不兼容 IE 678 等低版本浏览器， 官网不再更新</p>
<p> 3x ：不兼容 IE 678 等低版本浏览器， 是官方主要更新维护的版本</p>
</blockquote>
</li>
</ul>
<h2 id="多库共存"><a href="#多库共存" class="headerlink" title="多库共存"></a>多库共存</h2><p>实际开发中，很多项目连续开发十多年，jQuery版本不断更新，最初的 jQuery 版本无法满足需求，这时就需要保证在旧有版本正常运行的情况下，新的功能使用新的jQuery版本实现，这种情况被称为，jQuery 多库共存。<br>需要一个解决方案，让jQuery 和其他的js库不存在冲突，可以同时存在<br><img src="https://i-blog.csdnimg.cn/direct/c6c6ad31baf74e91bf2c6b17205c4cc2.png" alt="在这里插入图片描述"></p>
<h2 id="插件"><a href="#插件" class="headerlink" title="插件"></a>插件</h2><p>这些插件也是依赖于jQuery来完成的，所以必须要先引入jQuery。<br>jQuery 插件常用的网站：<br>jQuery 插件库  <a target="_blank" rel="noopener" href="http://www.jq22.com/">http://www.jq22.com/</a><br>jQuery 之家   <a target="_blank" rel="noopener" href="http://www.htmleaf.com/">http://www.htmleaf.com/</a>  如瀑布流、图片懒加载、全屏滚动<br>bootstrap组件：bootstrap是基于jQuery实现的框架，包含很多插件。<br> jQuery 插件使用步骤：<br>引入相关文件。（jQuery 文件 和 插件文件）<br>复制相关html、css、js (调用插件)。</p>
<h2 id="使用操作"><a href="#使用操作" class="headerlink" title="使用操作"></a>使用操作</h2><ul>
<li>步骤：<br>引入jQuery文件。<br>在文档最末尾插入 script 标签，书写代码。<br>$(‘div’).hide() 可以隐藏盒子。</li>
<li><pre><code>jQuery中常见的两种入口函数：
</code></pre>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 第一种: 简单易用。</span></span><br><span class="line">$(<span class="keyword">function</span> (<span class="params"></span>) &#123;   </span><br><span class="line">    ...  <span class="comment">// 此处是页面 DOM 加载完成的入口</span></span><br><span class="line">&#125;) ; </span><br><span class="line"></span><br><span class="line"><span class="comment">// 第二种: 繁琐，但是也可以实现</span></span><br><span class="line">$(<span class="variable language_">document</span>).<span class="title function_">ready</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">   ...  <span class="comment">//  此处是页面DOM加载完成的入口</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>总结：</p>
<ol>
<li>等着 DOM 结构渲染完毕即可执行内部代码，不必等到所有外部资源加载完成，jQuery 帮我们完成了封装。</li>
<li>相当于原生 js 中的 DOMContentLoaded。</li>
<li>不同于原生 js 中的 load 事件是等页面文档、外部的 js 文件、css文件、图片加载完毕才执行内部代码。</li>
<li>更推荐使用第一种方式。</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;//code.jquery.com/jquery-1.11.3.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    ...</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    ...</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">//jQuery把所有功能全部封装在一个全局变量jQuery中</span></span><br><span class="line"><span class="comment">//$也是一个合法的变量名，它是变量jQuery的别名：</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">jQuery</span>; <span class="comment">// jQuery(selector, context)</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">$</span>; <span class="comment">// jQuery(selector, context)</span></span><br><span class="line">$ === jQuery; <span class="comment">// true</span></span><br><span class="line"><span class="title function_">typeof</span>($); <span class="comment">// &#x27;function&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//$本质上是一个函数，但函数也是对象</span></span><br><span class="line"><span class="comment">//于是$除了可以直接调用外，也可以有很多其他属性。</span></span><br><span class="line"><span class="comment">//JavaScript压缩工具可以对函数名和参数改名，所以压缩过的jQuery源码$函数可能变成a(b, c)</span></span><br><span class="line"><span class="comment">//如果$这个变量不幸地被占用了，而且还不能改，那我们就只能让jQuery把$变量交出来，然后就只能使用jQuery这个变量：</span></span><br><span class="line">$; <span class="comment">// jQuery(selector, context)</span></span><br><span class="line">jQuery.<span class="title function_">noConflict</span>();</span><br><span class="line">$; <span class="comment">// undefined</span></span><br><span class="line">jQuery; <span class="comment">// jQuery(selector, context)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>jQuery中的顶级对象$</li>
</ul>
<ol>
<li>$是 jQuery 的别称，在代码中可以使用 jQuery 代替，但一般为了方便，通常都直接使用 $ 。</li>
<li><code>$</code>是jQuery的顶级对象，相当于原生JavaScript中的 window。把元素利用$包装成jQuery对象，就可以调用jQuery 的方法。</li>
</ol>
<ul>
<li>jQuery 对象和 DOM 对象<br> 什么是jQuery对象？jQuery对象类似数组，它的每个元素都是一个引用了DOM节点的对象。<br> 使用 jQuery 方法和原生JS获取的元素是不一样的，总结如下 :</li>
</ul>
<ol>
<li>用原生 JS 获取来的对象就是 DOM 对象</li>
<li>jQuery 方法获取的元素就是 jQuery 对象。</li>
<li>jQuery 对象本质是： 利用$对DOM 对象包装后产生的对象（伪数组形式存储）。<blockquote>
<p>注意：只有 jQuery 对象才能使用 jQuery 方法，DOM 对象则使用原生的 JavaScirpt 方法。</p>
<ul>
<li>jQuery 对象和 DOM 对象转换<br>实际开发比较常用的是把DOM对象转换为jQuery对象，这样能够调用功能更加强大的jQuery中的方法。<br>DOM 对象与 jQuery 对象之间是可以相互转换的。因为原生js 比 jQuery 更大，原生的一些属性和方法 jQuery没有给我们封装. 要想使用这些属性和方法需要把jQuery对象转换为DOM对象才能使用。</li>
</ul>
</blockquote>
</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.DOM对象转换成jQuery对象，方法只有一种</span></span><br><span class="line"><span class="keyword">var</span> box = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;box&#x27;</span>);  <span class="comment">// 获取DOM对象</span></span><br><span class="line"><span class="keyword">var</span> jQueryObject = $(box);  <span class="comment">// 把DOM对象转换为 jQuery 对象</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.jQuery 对象转换为 DOM 对象有两种方法：</span></span><br><span class="line"><span class="comment">//   2.1 jQuery对象[索引值]</span></span><br><span class="line"><span class="keyword">var</span> domObject1 = $(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line"><span class="comment">//   2.2 jQuery对象.get(索引值)</span></span><br><span class="line"><span class="keyword">var</span> domObject2 = $(<span class="string">&#x27;div&#x27;</span>).<span class="title function_">get</span>(<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<h2 id="选择器"><a href="#选择器" class="headerlink" title="选择器"></a>选择器</h2><p>jQuery的选择器就是帮助我们快速定位到一个或多个DOM节点</p>
<ul>
<li>基础选择器</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&quot;选择器&quot;</span>)   <span class="comment">//  里面选择器直接写 CSS 选择器即可，但是要加引号 </span></span><br></pre></td></tr></table></figure>
<p><img src="https://i-blog.csdnimg.cn/direct/039b32a88f9d4e0e9123c19376d951b0.png" alt="在这里插入图片描述"></p>
<ul>
<li>层级选择器<br>最常用的两个分别为：后代选择器和子代选择器。<br><img src="https://i-blog.csdnimg.cn/direct/ba1fd945540347378ffad70da1fcb975.png" alt="在这里插入图片描述"></li>
<li>筛选选择器<br><img src="https://i-blog.csdnimg.cn/direct/fac3b07b38af4b75ba0e466bb50c4c25.png" alt="在这里插入图片描述"><br><img src="https://i-blog.csdnimg.cn/direct/0c62394c7a9b4f2bb4ae7d7bca1bc577.png" alt="在这里插入图片描述"></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ul = $(<span class="string">&#x27;ul.lang&#x27;</span>); <span class="comment">// 获得&lt;ul&gt;</span></span><br><span class="line"><span class="keyword">var</span> dy = ul.<span class="title function_">find</span>(<span class="string">&#x27;.dy&#x27;</span>); <span class="comment">// 获得JavaScript, Python, Scheme</span></span><br><span class="line"><span class="keyword">var</span> swf = ul.<span class="title function_">find</span>(<span class="string">&#x27;#swift&#x27;</span>); <span class="comment">// 获得Swift</span></span><br><span class="line"><span class="keyword">var</span> hsk = ul.<span class="title function_">find</span>(<span class="string">&#x27;[name=haskell]&#x27;</span>); <span class="comment">// 获得Haskell</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> swf = $(<span class="string">&#x27;#swift&#x27;</span>); <span class="comment">// 获得Swift</span></span><br><span class="line"><span class="keyword">var</span> parent = swf.<span class="title function_">parent</span>(); <span class="comment">// 获得Swift的上层节点&lt;ul&gt;</span></span><br><span class="line"><span class="keyword">var</span> a = swf.<span class="title function_">parent</span>(<span class="string">&#x27;.red&#x27;</span>); <span class="comment">// 获得Swift的上层节点&lt;ul&gt;，同时传入过滤条件。如果ul不符合条件，返回空jQuery对象</span></span><br><span class="line"></span><br><span class="line">对于位于同一层级的节点，可以通过<span class="title function_">next</span>()和<span class="title function_">prev</span>()方法，</span><br><span class="line"><span class="keyword">var</span> swift = $(<span class="string">&#x27;#swift&#x27;</span>);</span><br><span class="line">swift.<span class="title function_">next</span>(); <span class="comment">// Scheme</span></span><br><span class="line">swift.<span class="title function_">next</span>(<span class="string">&#x27;[name=haskell]&#x27;</span>); <span class="comment">// 空的jQuery对象，因为Swift的下一个元素Scheme不符合条件[name=haskell]</span></span><br><span class="line">swift.<span class="title function_">prev</span>(); <span class="comment">// Python</span></span><br><span class="line">swift.<span class="title function_">prev</span>(<span class="string">&#x27;.dy&#x27;</span>); <span class="comment">// Python，因为Python同时符合过滤器条件.dy</span></span><br><span class="line"></span><br><span class="line">$(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>($(<span class="string">&quot;.nav&quot;</span>));</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>($(<span class="string">&quot;ul li&quot;</span>));</span><br><span class="line">        &#125;)</span><br><span class="line">$(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            $(<span class="string">&quot;ul li:first&quot;</span>).<span class="title function_">css</span>(<span class="string">&quot;color&quot;</span>, <span class="string">&quot;red&quot;</span>);</span><br><span class="line">            $(<span class="string">&quot;ul li:eq(2)&quot;</span>).<span class="title function_">css</span>(<span class="string">&quot;color&quot;</span>, <span class="string">&quot;blue&quot;</span>);</span><br><span class="line">            $(<span class="string">&quot;ol li:odd&quot;</span>).<span class="title function_">css</span>(<span class="string">&quot;color&quot;</span>, <span class="string">&quot;skyblue&quot;</span>);</span><br><span class="line">            $(<span class="string">&quot;ol li:even&quot;</span>).<span class="title function_">css</span>(<span class="string">&quot;color&quot;</span>, <span class="string">&quot;pink&quot;</span>);</span><br><span class="line">        &#125;)</span><br><span class="line">$(<span class="string">&#x27;ul.lang li&#x27;</span>); <span class="comment">// 选出JavaScript、Python和Lua 3个节点</span></span><br><span class="line">$(<span class="string">&#x27;ul.lang li:first-child&#x27;</span>); <span class="comment">// 仅选出JavaScript</span></span><br><span class="line">$(<span class="string">&#x27;ul.lang li:last-child&#x27;</span>); <span class="comment">// 仅选出Lua</span></span><br><span class="line">$(<span class="string">&#x27;ul.lang li:nth-child(2)&#x27;</span>); <span class="comment">// 选出第N个元素，N从1开始</span></span><br><span class="line">$(<span class="string">&#x27;ul.lang li:nth-child(even)&#x27;</span>); <span class="comment">// 选出序号为偶数的元素</span></span><br><span class="line">$(<span class="string">&#x27;ul.lang li:nth-child(odd)&#x27;</span>); <span class="comment">// 选出序号为奇数的元素</span></span><br><span class="line">        </span><br><span class="line">存在，返回的jQuery对象[<span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;abc&quot;</span>&gt;</span>...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>]</span><br><span class="line">不存在，返回的jQuery对象：[]</span><br><span class="line">jQuery的选择器不会返回<span class="literal">undefined</span>或者<span class="literal">null</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ps = $(<span class="string">&#x27;p&#x27;</span>); <span class="comment">// 返回所有&lt;p&gt;节点</span></span><br><span class="line">ps.<span class="property">length</span>; <span class="comment">// 数一数页面有多少个&lt;p&gt;节点</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//按属性查找</span></span><br><span class="line">比如在一个表单中按属性来查找：</span><br><span class="line"><span class="keyword">var</span> email = $(<span class="string">&#x27;[name=email]&#x27;</span>); <span class="comment">// 找出&lt;??? name=&quot;email&quot;&gt;</span></span><br><span class="line"><span class="keyword">var</span> passwordInput = $(<span class="string">&#x27;[type=password]&#x27;</span>); <span class="comment">// 找出&lt;??? type=&quot;password&quot;&gt;</span></span><br><span class="line"><span class="keyword">var</span> a = $(<span class="string">&#x27;[items=&quot;A B&quot;]&#x27;</span>); <span class="comment">// 找出&lt;??? items=&quot;A B&quot;&gt;</span></span><br><span class="line"><span class="comment">//当属性的值包含空格等特殊字符时，需要用双引号括起来。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//前缀查找或者后缀查找：</span></span><br><span class="line"><span class="keyword">var</span> icons = $(<span class="string">&#x27;[name^=icon]&#x27;</span>); <span class="comment">// 找出所有name属性值以icon开头的DOM</span></span><br><span class="line"><span class="comment">// 例如: name=&quot;icon-1&quot;, name=&quot;icon-2&quot;</span></span><br><span class="line"><span class="keyword">var</span> names = $(<span class="string">&#x27;[name$=with]&#x27;</span>); <span class="comment">// 找出所有name属性值以with结尾的DOM</span></span><br><span class="line"><span class="comment">// 例如: name=&quot;startswith&quot;, name=&quot;endswith&quot;</span></span><br><span class="line">尤其适合通过<span class="keyword">class</span>属性查找，且不受<span class="keyword">class</span>包含多个名称的影响：</span><br><span class="line"><span class="keyword">var</span> icons = $(<span class="string">&#x27;[class^=&quot;icon-&quot;]&#x27;</span>); <span class="comment">// 找出所有class包含至少一个以`icon-`开头的DOM</span></span><br><span class="line"><span class="comment">// 例如: class=&quot;icon-clock&quot;, class=&quot;abc icon-home&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//组合查找</span></span><br><span class="line"><span class="keyword">var</span> emailInput = $(<span class="string">&#x27;input[name=email]&#x27;</span>); <span class="comment">// 不会找出&lt;div name=&quot;email&quot;&gt;</span></span><br><span class="line"><span class="keyword">var</span> tr = $(<span class="string">&#x27;tr.red&#x27;</span>); <span class="comment">// 找出&lt;tr class=&quot;red ...&quot;&gt;...&lt;/tr&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//表单相关</span></span><br><span class="line">:input ：可以选择&lt;input&gt;，&lt;textarea&gt;，&lt;select&gt;和&lt;button&gt;；</span><br><span class="line">:file ：可以选择&lt;input type=<span class="string">&quot;file&quot;</span>&gt;，和input[type=file]一样；</span><br><span class="line">:checkbox ：可以选择复选框，和input[type=checkbox]一样；</span><br><span class="line">:radio ：可以选择单选框，和input[type=radio]一样；</span><br><span class="line">:focus ：可以选择当前输入焦点的元素</span><br><span class="line"><span class="comment">//例如把光标放到一个&lt;input&gt;上，用$(&#x27;input:focus&#x27;)就可以选出；</span></span><br><span class="line">:checked ：$(<span class="string">&#x27;input[type=radio]:checked&#x27;</span>)；</span><br><span class="line">:enabled </span><br><span class="line">:disabled ：和:enabled正好相反，选择那些不能输入的。</span><br><span class="line"><span class="comment">//选出可见的或隐藏的元素：</span></span><br><span class="line">$(<span class="string">&#x27;div:visible&#x27;</span>); <span class="comment">// 所有可见的div</span></span><br><span class="line">$(<span class="string">&#x27;div:hidden&#x27;</span>); <span class="comment">// 所有隐藏的div</span></span><br></pre></td></tr></table></figure>
<p>&#x3D;&#x3D;过滤&#x3D;&#x3D;<br>filter()方法可以过滤掉不符合选择器条件的节点：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> langs = $(<span class="string">&#x27;ul.lang li&#x27;</span>); <span class="comment">// 拿到JavaScript, Python, Swift, Scheme和Haskell</span></span><br><span class="line"><span class="keyword">var</span> a = langs.<span class="title function_">filter</span>(<span class="string">&#x27;.dy&#x27;</span>); <span class="comment">// 拿到JavaScript, Python, Scheme</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//或者传入一个函数</span></span><br><span class="line"><span class="comment">//要特别注意函数内部的this被绑定为DOM对象，不是jQuery对象：</span></span><br><span class="line"><span class="keyword">var</span> langs = $(<span class="string">&#x27;ul.lang li&#x27;</span>); <span class="comment">// 拿到JavaScript, Python, Swift, Scheme和Haskell</span></span><br><span class="line">langs.<span class="title function_">filter</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">innerHTML</span>.<span class="title function_">indexOf</span>(<span class="string">&#x27;S&#x27;</span>) === <span class="number">0</span>; <span class="comment">// 返回S开头的节点</span></span><br><span class="line">&#125;); <span class="comment">// 拿到Swift, Scheme</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//一个jQuery对象如果包含了不止一个DOM节点，</span></span><br><span class="line"><span class="comment">//first()、last()和slice()方法可以返回一个新的jQuery对象，把不需要的DOM节点去掉：</span></span><br><span class="line"><span class="keyword">var</span> langs = $(<span class="string">&#x27;ul.lang li&#x27;</span>); <span class="comment">// 拿到JavaScript, Python, Swift, Scheme和Haskell</span></span><br><span class="line"><span class="keyword">var</span> js = langs.<span class="title function_">first</span>(); <span class="comment">// JavaScript，相当于$(&#x27;ul.lang li:first-child&#x27;)</span></span><br><span class="line"><span class="keyword">var</span> haskell = langs.<span class="title function_">last</span>(); <span class="comment">// Haskell, 相当于$(&#x27;ul.lang li:last-child&#x27;)</span></span><br><span class="line"><span class="keyword">var</span> sub = langs.<span class="title function_">slice</span>(<span class="number">2</span>, <span class="number">4</span>); <span class="comment">// Swift, Scheme, 参数和数组的slice()方法一致</span></span><br></pre></td></tr></table></figure>
<h2 id="操作DOM"><a href="#操作DOM" class="headerlink" title="操作DOM"></a>操作DOM</h2><p>一个jQuery对象可以包含0个或任意个DOM对象，它的方法实际上会作用在对应的每个DOM节点上</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1、修改Text、HTML</span></span><br><span class="line"><span class="comment">//jQuery对象的text()和html()方法分别获取节点的文本和原始HTML文本</span></span><br><span class="line">$(<span class="string">&#x27;#test-ul li[name=book]&#x27;</span>).<span class="title function_">text</span>(); <span class="comment">// &#x27;Java &amp; JavaScript&#x27;</span></span><br><span class="line">$(<span class="string">&#x27;#test-ul li[name=book]&#x27;</span>).<span class="title function_">html</span>(); <span class="comment">// &#x27;Java &amp;amp; JavaScript&#x27;</span></span><br><span class="line"><span class="comment">//无参数调用text()是获取文本，传入参数就变成设置文本，HTML也是类似操作</span></span><br><span class="line"><span class="comment">// 如果不存在id为not-exist的节点：</span></span><br><span class="line">$(<span class="string">&#x27;#not-exist&#x27;</span>).<span class="title function_">text</span>(<span class="string">&#x27;Hello&#x27;</span>); <span class="comment">// 代码不报错，没有节点被设置为&#x27;Hello&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//2. index</span></span><br><span class="line">$(<span class="variable language_">this</span>).<span class="title function_">index</span>();<span class="comment">//获取索引</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//3. 表单的值val() 相当于原生value</span></span><br><span class="line"><span class="title function_">val</span>() <span class="comment">//获取</span></span><br><span class="line"><span class="title function_">val</span>(<span class="string">&#x27;content&#x27;</span>) <span class="comment">//设置</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">substr</span>(<span class="number">1</span>) <span class="comment">//截取字符串</span></span><br><span class="line"><span class="title function_">toFixed</span>(<span class="number">2</span>)<span class="comment">//保留两位小数</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//遍历元素 2种语法 可用于遍历任何对象。</span></span><br><span class="line"><span class="comment">//jQuery 隐式迭代是对同一类元素做了同样的操作。 </span></span><br><span class="line"><span class="comment">//如果想要给同一类元素做不同操作，就需要用到遍历。</span></span><br><span class="line">$(<span class="string">&quot;div&quot;</span>).<span class="title function_">each</span>(<span class="keyword">function</span> (<span class="params">index, domEle</span>) &#123; xxx; &#125;)</span><br><span class="line">$.<span class="title function_">each</span>(object，<span class="keyword">function</span> (<span class="params">index, element</span>) &#123; xxx; &#125;）</span><br><span class="line"><span class="comment">//里面的回调函数有2个参数： </span></span><br><span class="line"><span class="comment">//index 是每个元素的索引号; demEle 是每个DOM元素对象，不是jquery对象</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//创建元素</span></span><br><span class="line">$(<span class="string">&#x27;&lt;li&gt;&lt;/li&gt;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//添加元素</span></span><br><span class="line"><span class="comment">//内部 内部添加元素，生成之后，它们是父子关系。</span></span><br><span class="line">element.<span class="title function_">append</span>(<span class="string">&#x27;内容&#x27;</span>)</span><br><span class="line">element.<span class="title function_">prepend</span>(<span class="string">&#x27;内容&#x27;</span>)<span class="comment">//放最前面</span></span><br><span class="line"><span class="comment">//外部 外部添加元素，生成之后，他们是兄弟关系。</span></span><br><span class="line">element.<span class="title function_">after</span>(<span class="string">&#x27;内容&#x27;</span>) <span class="comment">// 把内容放入目标元素后面</span></span><br><span class="line">element.<span class="title function_">before</span>(<span class="string">&#x27;内容&#x27;</span>) <span class="comment">// 把内容放入目标元素前面</span></span><br><span class="line"></span><br><span class="line">ul.<span class="title function_">append</span>(<span class="string">&#x27;&lt;li&gt;&lt;span&gt;Haskell&lt;/span&gt;&lt;/li&gt;&#x27;</span>);</span><br><span class="line"><span class="comment">// 添加jQuery对象:</span></span><br><span class="line">ul.<span class="title function_">append</span>($(<span class="string">&#x27;#scheme&#x27;</span>));</span><br><span class="line"><span class="comment">// 添加函数对象:</span></span><br><span class="line">ul.<span class="title function_">append</span>(<span class="keyword">function</span> (<span class="params">index, html</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;&lt;li&gt;&lt;span&gt;Language - &#x27;</span> + index + <span class="string">&#x27;&lt;/span&gt;&lt;/li&gt;&#x27;</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//如果要添加的DOM节点已经存在于HTML文档中，</span></span><br><span class="line"><span class="comment">//它会首先从文档移除，然后再添加</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//如果要把新节点插入到指定位置，</span></span><br><span class="line"><span class="comment">//例如，JavaScript和Python之间，先定位到JavaScript，然后用after()</span></span><br><span class="line"><span class="keyword">var</span> js = $(<span class="string">&#x27;#test-div&gt;ul&gt;li:first-child&#x27;</span>);</span><br><span class="line">js.<span class="title function_">after</span>(<span class="string">&#x27;&lt;li&gt;&lt;span&gt;Lua&lt;/span&gt;&lt;/li&gt;&#x27;</span>);</span><br><span class="line"><span class="comment">//同级节点可以用after()或者before()方法。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//删除元素</span></span><br><span class="line">element.<span class="title function_">remove</span>() <span class="comment">// 删除匹配的元素（本身）</span></span><br><span class="line">element.<span class="title function_">empty</span>() <span class="comment">// 删除匹配的元素集合中所有的子节点</span></span><br><span class="line">element.<span class="title function_">html</span>(<span class="string">&#x27;&#x27;</span>) <span class="comment">// 清空匹配的元素内容</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//如果jQuery对象包含若干DOM节点，实际上可以一次删除多个DOM节点：</span></span><br><span class="line"><span class="keyword">var</span> li = $(<span class="string">&#x27;#test-div&gt;ul&gt;li&#x27;</span>);</span><br><span class="line">li.<span class="title function_">remove</span>(); <span class="comment">// 所有&lt;li&gt;全被删除</span></span><br></pre></td></tr></table></figure>
<ul>
<li>this指向<br>$(this) 代表的是当前正在执行事件处理函数时的 DOM 元素。this 指向的是触发事件的具体 DOM 元素，而通过 $(this) 包装后，可以调用 jQuery 提供的各种方法。</li>
<li>修改CSS<br>Query对象有“批量操作”的特点，这用于修改CSS实在是太方便了</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//	注意：css() 多用于样式少时操作，多了则不太方便。</span></span><br><span class="line"><span class="keyword">var</span> div = $(<span class="string">&#x27;#test-div&#x27;</span>);</span><br><span class="line">div.<span class="title function_">css</span>(<span class="string">&#x27;color&#x27;</span>); <span class="comment">// &#x27;#000033&#x27;, 获取CSS属性</span></span><br><span class="line">div.<span class="title function_">css</span>(<span class="string">&#x27;color&#x27;</span>, <span class="string">&#x27;#336699&#x27;</span>); <span class="comment">// 设置CSS属性</span></span><br><span class="line">div.<span class="title function_">css</span>(<span class="string">&#x27;color&#x27;</span>, <span class="string">&#x27;&#x27;</span>); <span class="comment">// 清除CSS属性</span></span><br><span class="line"><span class="comment">//参数可以是对象形式，方便设置多组样式。</span></span><br><span class="line"><span class="comment">//属性名和属性值用冒号隔开， 属性可以不用加引号</span></span><br><span class="line">$(<span class="variable language_">this</span>).<span class="title function_">css</span>(&#123; <span class="string">&quot;color&quot;</span>:<span class="string">&quot;white&quot;</span>,<span class="string">&quot;font-size&quot;</span>:<span class="string">&quot;20px&quot;</span>&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//css()方法将作用于DOM节点的style属性，具有最高优先级。</span></span><br><span class="line"><span class="comment">//作用等同于以前classList操作类样式，注意操作类里面的参数不要加点。</span></span><br><span class="line"><span class="comment">//原生JS中className会覆盖元素原先里面的类名，jQuery 里面类操作只是对指定类进行操作，不影响原先的类名。</span></span><br><span class="line"><span class="comment">//如果要修改class属性，可以用</span></span><br><span class="line"><span class="keyword">var</span> div = $(<span class="string">&#x27;#test-div&#x27;</span>);</span><br><span class="line">div.<span class="title function_">hasClass</span>(<span class="string">&#x27;highlight&#x27;</span>); <span class="comment">// false， class是否包含highlight</span></span><br><span class="line">div.<span class="title function_">addClass</span>(<span class="string">&#x27;highlight&#x27;</span>); <span class="comment">// 添加highlight这个class</span></span><br><span class="line">div.<span class="title function_">removeClass</span>(<span class="string">&#x27;highlight&#x27;</span>); <span class="comment">// 删除highlight这个class</span></span><br><span class="line">div.<span class="title function_">toggleClass</span>(<span class="string">&quot;current&quot;</span>);<span class="comment">//切换类</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//排他思想</span></span><br><span class="line"><span class="comment">// 想要多选一的效果，排他思想：当前元素设置样式，其余的兄弟元素清除样式。</span></span><br><span class="line">$(<span class="variable language_">this</span>).<span class="title function_">css</span>(<span class="string">&#x27;color&#x27;</span>,<span class="string">&#x27;red&#x27;</span>);</span><br><span class="line">$(<span class="variable language_">this</span>).<span class="title function_">siblings</span>(). <span class="title function_">css</span>(<span class="string">&#x27;color&#x27;</span>,<span class="string">&#x27;&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//隐式迭代</span></span><br><span class="line"><span class="comment">// 遍历内部 DOM 元素（伪数组形式存储）的过程就叫做隐式迭代。</span></span><br><span class="line"><span class="comment">// 不用我们再进行循环，简化我们的操作，方便我们调用。</span></span><br><span class="line">$(<span class="string">&#x27;div&#x27;</span>).<span class="title function_">hide</span>();  <span class="comment">// 页面中所有的div全部隐藏，不用循环操作</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 链式编程是为了节省代码量，看起来更优雅。</span></span><br><span class="line">$(<span class="variable language_">this</span>).<span class="title function_">css</span>(<span class="string">&#x27;color&#x27;</span>, <span class="string">&#x27;red&#x27;</span>).<span class="title function_">siblings</span>().<span class="title function_">css</span>(<span class="string">&#x27;color&#x27;</span>, <span class="string">&#x27;&#x27;</span>); </span><br><span class="line"><span class="comment">//让下部里面相应索引号的item显示，其余的item隐藏</span></span><br><span class="line">$(<span class="string">&quot;.tab_con .item&quot;</span>).<span class="title function_">eq</span>(index).<span class="title function_">show</span>().<span class="title function_">siblings</span>().<span class="title function_">hide</span>();</span><br></pre></td></tr></table></figure>
<ul>
<li>获取DOM信息</li>
</ul>
<ol>
<li>设置或获取元素固有属性值 prop()<br>是元素本身自带的属性</li>
<li>设置或获取元素自定义属性值 attr()<br>用户自己给元素添加的属性。 比如给 div 添加 index &#x3D;“1”。</li>
<li>数据缓存<br>data() 方法可以在指定的元素上存取数据，并不会修改 DOM 元素结构。一旦页面刷新，之前存放的数据都将被移除。</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">prop</span>(<span class="string">&#x27;属性&#x27;</span>)</span><br><span class="line"><span class="title function_">prop</span>(<span class="string">&#x27;属性&#x27;</span>, <span class="string">&#x27;属性值&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="title function_">attr</span>(<span class="string">&#x27;属性&#x27;</span>) <span class="comment">// 类似原生 getAttribute()</span></span><br><span class="line"><span class="title function_">attr</span>(<span class="string">&#x27;属性&#x27;</span>, <span class="string">&#x27;属性值&#x27;</span>) <span class="comment">// 类似原生 setAttribute()</span></span><br><span class="line">div.<span class="title function_">attr</span>(<span class="string">&#x27;name&#x27;</span>); <span class="comment">// undefined</span></span><br><span class="line">div.<span class="title function_">removeAttr</span>(<span class="string">&#x27;name&#x27;</span>); <span class="comment">// 删除name属性</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">data</span>(<span class="string">&#x27;name&#x27;</span>,<span class="string">&#x27;value&#x27;</span>) <span class="comment">// 向被选元素附加数据</span></span><br><span class="line"><span class="title function_">date</span>(<span class="string">&#x27;name&#x27;</span>) <span class="comment">// 向被选元素获取数据</span></span><br><span class="line"><span class="comment">//还可以读取 HTML5 自定义属性 data-index ，得到的是数字型</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">attr</span>()和<span class="title function_">prop</span>()对于属性checked处理有所不同：</span><br><span class="line"><span class="keyword">var</span> radio = $(<span class="string">&#x27;#test-radio&#x27;</span>);</span><br><span class="line">radio.<span class="title function_">attr</span>(<span class="string">&#x27;checked&#x27;</span>); <span class="comment">// &#x27;checked&#x27;</span></span><br><span class="line">radio.<span class="title function_">prop</span>(<span class="string">&#x27;checked&#x27;</span>); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">用<span class="title function_">is</span>()方法判断更好：</span><br><span class="line"><span class="keyword">var</span> radio = $(<span class="string">&#x27;#test-radio&#x27;</span>);</span><br><span class="line">radio.<span class="title function_">is</span>(<span class="string">&#x27;:checked&#x27;</span>); <span class="comment">// true</span></span><br><span class="line">类似的属性还有selected，处理时最好用<span class="title function_">is</span>(<span class="string">&#x27;:selected&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 浏览器可视窗口大小:</span></span><br><span class="line">$(<span class="variable language_">window</span>).<span class="title function_">width</span>(); <span class="comment">// 800</span></span><br><span class="line">$(<span class="variable language_">window</span>).<span class="title function_">height</span>(); <span class="comment">// 600</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// HTML文档大小:</span></span><br><span class="line">$(<span class="variable language_">document</span>).<span class="title function_">width</span>(); <span class="comment">// 800</span></span><br><span class="line">$(<span class="variable language_">document</span>).<span class="title function_">height</span>(); <span class="comment">// 3500</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 某个div的大小:</span></span><br><span class="line"><span class="keyword">var</span> div = $(<span class="string">&#x27;#test-div&#x27;</span>);</span><br><span class="line">div.<span class="title function_">width</span>(); <span class="comment">// 600</span></span><br><span class="line">div.<span class="title function_">height</span>(); <span class="comment">// 300</span></span><br><span class="line">div.<span class="title function_">width</span>(<span class="number">400</span>); <span class="comment">// 设置CSS属性 width: 400px，是否生效要看CSS是否有效</span></span><br><span class="line">div.<span class="title function_">height</span>(<span class="string">&#x27;200px&#x27;</span>); <span class="comment">// 设置CSS属性 height: 200px，是否生效要看CSS是否有效</span></span><br></pre></td></tr></table></figure>
<p>css(‘height’)获取的是字符串带有单位，height() 获取的是数值，无单位。<br><img src="https://i-blog.csdnimg.cn/direct/9cc83b2e753047728e259dd4a82c78ad.png" alt="在这里插入图片描述"></p>
<ul>
<li>位置信息<br>位置主要有三个： offset()、position()、scrollTop()&#x2F;scrollLeft()</li>
</ul>
<ol>
<li>offset() 设置或获取元素偏移<br>① offset() 方法设置或返回被选元素相对于文档的偏移坐标，跟父级没有关系。<br>② 该方法有2个属性 left、top 。offset().top 用于获取距离文档顶部的距离，offset().left 用于获取距离文档左侧的距离。<br>③ 可以设置元素的偏移：offset({ top: 10, left: 30 });</li>
<li>position() 获取元素偏移<br>① position() 方法用于返回被选元素相对于带有定位的父级偏移坐标，如果父级都没有定位，则以文档为准。<br>② 该方法有2个属性 left、top。position().top 用于获取距离定位父级顶部的距离，position().left 用于获取距离定<br>位父级左侧的距离。<br>③ 该方法只能获取。</li>
<li>scrollTop()&#x2F;scrollLeft() 设置或获取元素被卷去的头部和左侧<br>① scrollTop() 方法设置或返回被选元素被卷去的头部。<br>② 不跟参数是获取，参数为不带单位的数字则是设置被卷去的头部。</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="拷贝对象"><a href="#拷贝对象" class="headerlink" title="拷贝对象"></a>拷贝对象</h2><p>两套快速获取和设置元素尺寸和位置的API<br><img src="https://i-blog.csdnimg.cn/direct/2f7a645da6154588912d25a451953f9f.png" alt="在这里插入图片描述"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//合并数据</span></span><br><span class="line">            <span class="keyword">var</span> targetObj = &#123;&#125;;</span><br><span class="line">            <span class="keyword">var</span> obj = &#123;</span><br><span class="line">                <span class="attr">id</span>: <span class="number">1</span>,</span><br><span class="line">                <span class="attr">name</span>: <span class="string">&quot;andy&quot;</span></span><br><span class="line">            &#125;;</span><br><span class="line">            <span class="comment">// $.extend(target, obj);</span></span><br><span class="line">            $.<span class="title function_">extend</span>(targetObj, obj);</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(targetObj);</span><br></pre></td></tr></table></figure>
<h2 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h2><p>用jQuery来写代码，就屏蔽了不同浏览器的差异</p>
<ul>
<li>优点: 操作简单，且不用担心事件覆盖等问题。</li>
<li>缺点: 普通的事件注册不能做事件委托，且无法实现事件解绑，需要借助其他方法。<br><img src="https://i-blog.csdnimg.cn/direct/e613fceea4d04d609c309569e7ddf6a3.png" alt="在这里插入图片描述"></li>
<li>on(): 用于事件绑定，目前最好用的事件绑定方法<br><img src="https://i-blog.csdnimg.cn/direct/fd69edc314d44775aa1451f26a4fafeb.png" alt="在这里插入图片描述"><br>最后参数fn:回调函数<br><img src="https://i-blog.csdnimg.cn/direct/7e84fde4e47c4cdbb86b1a1e4f807cc4.png" alt="在这里插入图片描述"><br><img src="https://i-blog.csdnimg.cn/direct/aa007d6886e542dd82bf65e3d475d341.png" alt="在这里插入图片描述"></li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="comment">// (1) on可以绑定1个或者多个事件处理程序</span></span><br><span class="line">            <span class="comment">// $(&quot;div&quot;).on(&#123;</span></span><br><span class="line">            <span class="comment">//     mouseenter: function() &#123;</span></span><br><span class="line">            <span class="comment">//         $(this).css(&quot;background&quot;, &quot;skyblue&quot;);</span></span><br><span class="line">            <span class="comment">//     &#125;,</span></span><br><span class="line">            <span class="comment">//     click: function() &#123;</span></span><br><span class="line">            <span class="comment">//         $(this).css(&quot;background&quot;, &quot;purple&quot;);</span></span><br><span class="line">            <span class="comment">//     &#125;</span></span><br><span class="line">            <span class="comment">// &#125;);</span></span><br><span class="line">            <span class="comment">// 事件绑定</span></span><br><span class="line">            $(<span class="string">&quot;div&quot;</span>).<span class="title function_">on</span>(&#123;</span><br><span class="line">                <span class="attr">click</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;我点击了&quot;</span>);</span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="attr">mouseover</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;我鼠标经过了&#x27;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">            </span><br><span class="line">            $(<span class="string">&quot;div&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;mouseenter mouseleave&quot;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">                $(<span class="variable language_">this</span>).<span class="title function_">toggleClass</span>(<span class="string">&quot;current&quot;</span>);</span><br><span class="line">            &#125;);</span><br><span class="line">  </span><br><span class="line">            <span class="comment">// (2) on可以实现事件委托（委派）</span></span><br><span class="line">            <span class="comment">// click 是绑定在ul 身上的，但是 触发的对象是 ul 里面的小li</span></span><br><span class="line">            <span class="comment">// $(&quot;ul li&quot;).click();</span></span><br><span class="line">            $(<span class="string">&quot;ul&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, <span class="string">&quot;li&quot;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">                <span class="title function_">alert</span>(<span class="number">11</span>);</span><br><span class="line">            &#125;);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// (3) on可以给未来动态创建的元素绑定事件</span></span><br><span class="line">            $(<span class="string">&quot;ol&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, <span class="string">&quot;li&quot;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">                <span class="title function_">alert</span>(<span class="number">11</span>);</span><br><span class="line">            &#125;)</span><br><span class="line">            <span class="keyword">var</span> li = $(<span class="string">&quot;&lt;li&gt;我是后来创建的&lt;/li&gt;&quot;</span>);</span><br><span class="line">            $(<span class="string">&quot;ol&quot;</span>).<span class="title function_">append</span>(li);</span><br><span class="line">        &#125;)</span><br></pre></td></tr></table></figure>
<ul>
<li>off(): 事件解绑<br><img src="https://i-blog.csdnimg.cn/direct/7b8b8221aa04423a9417013d96afab2d.png" alt="在这里插入图片描述"></li>
<li>trigger() &#x2F; triggerHandler(): 事件触发<br>利用定时器自动触发右侧按钮点击事件，不必鼠标点击触发。<br><img src="https://i-blog.csdnimg.cn/direct/81626a40045c4fa1bcf8255ad0540ee2.png" alt="在这里插入图片描述"></li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;p&#x27;</span>).<span class="title function_">on</span>(<span class="string">&#x27;click&#x27;</span>,<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">	<span class="title function_">alert</span>(<span class="string">&#x27;hi&#x27;</span>);</span><br><span class="line">&#125;)</span><br><span class="line">$(<span class="string">&#x27;p&#x27;</span>).<span class="title function_">trigger</span>(<span class="string">&#x27;click&#x27;</span>);<span class="comment">//自动触发事件，无需鼠标点击</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">// 自动触发事件</span></span><br><span class="line">      <span class="comment">// 1. 元素.事件()</span></span><br><span class="line">      <span class="comment">// $(&quot;div&quot;).click();会触发元素的默认行为</span></span><br><span class="line">      </span><br><span class="line">      <span class="comment">// 2. 元素.trigger(&quot;事件&quot;)</span></span><br><span class="line">      <span class="comment">// $(&quot;div&quot;).trigger(&quot;click&quot;);会触发元素的默认行为</span></span><br><span class="line">      $(<span class="string">&quot;input&quot;</span>).<span class="title function_">trigger</span>(<span class="string">&quot;focus&quot;</span>);</span><br><span class="line">      </span><br><span class="line">      <span class="comment">// 3. 元素.triggerHandler(&quot;事件&quot;) 就是不会触发元素的默认行为</span></span><br><span class="line">      $(<span class="string">&quot;input&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;focus&quot;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        $(<span class="variable language_">this</span>).<span class="title function_">val</span>(<span class="string">&quot;你好吗&quot;</span>);</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="comment">// 一个会获取焦点，一个不会</span></span><br><span class="line">      $(<span class="string">&quot;div&quot;</span>).<span class="title function_">triggerHandler</span>(<span class="string">&quot;click&quot;</span>);</span><br><span class="line">      <span class="comment">// $(&quot;input&quot;).triggerHandler(&quot;focus&quot;);</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取超链接的jQuery对象:</span></span><br><span class="line"><span class="keyword">var</span> a = $(<span class="string">&#x27;#test-link&#x27;</span>);</span><br><span class="line">a.<span class="title function_">on</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&#x27;Hello!&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//on方法用来绑定一个事件，我们需要传入事件名称和对应的处理函数。</span></span><br><span class="line"><span class="comment">//通常用后面的写法。更简化</span></span><br><span class="line">a.<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&#x27;Hello!&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">$(function() &#123;&#125;) 是 jQuery 中的一个简写，用来在 DOM 加载完成后执行某段代码。</span></span><br><span class="line"><span class="comment">相当于 $(document).ready(function() &#123;...&#125;)，</span></span><br><span class="line"><span class="comment">用于确保在 HTML 文档加载并且 DOM 树构建完成后，再执行你的 JavaScript 代码。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">$(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="comment">// 鼠标经过</span></span><br><span class="line">            <span class="comment">// $(&quot;.nav&gt;li&quot;).mouseover(function() &#123;</span></span><br><span class="line">            <span class="comment">//     // $(this) jQuery 当前元素  this不要加引号</span></span><br><span class="line">            <span class="comment">//     // show() 显示元素  hide() 隐藏元素</span></span><br><span class="line">            <span class="comment">//     $(this).children(&quot;ul&quot;).slideDown(200);</span></span><br><span class="line">            <span class="comment">// &#125;);</span></span><br><span class="line">            <span class="comment">// // 鼠标离开</span></span><br><span class="line">            <span class="comment">// $(&quot;.nav&gt;li&quot;).mouseout(function() &#123;</span></span><br><span class="line">            <span class="comment">//     $(this).children(&quot;ul&quot;).slideUp(200);</span></span><br><span class="line">            <span class="comment">// &#125;);</span></span><br><span class="line">            <span class="comment">// 1. 事件切换 hover 就是鼠标经过和离开的复合写法</span></span><br><span class="line">            <span class="comment">// $(&quot;.nav&gt;li&quot;).hover(function() &#123;</span></span><br><span class="line">            <span class="comment">//     $(this).children(&quot;ul&quot;).slideDown(200);</span></span><br><span class="line">            <span class="comment">// &#125;, function() &#123;</span></span><br><span class="line">            <span class="comment">//     $(this).children(&quot;ul&quot;).slideUp(200);</span></span><br><span class="line">            <span class="comment">// &#125;);</span></span><br><span class="line">            <span class="comment">// 2. 事件切换 hover  如果只写一个函数，那么鼠标经过和鼠标离开都会触发这个函数</span></span><br><span class="line">            $(<span class="string">&quot;.nav&gt;li&quot;</span>).<span class="title function_">hover</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">                <span class="comment">// stop 方法必须写到动画的前面</span></span><br><span class="line">                $(<span class="variable language_">this</span>).<span class="title function_">children</span>(<span class="string">&quot;ul&quot;</span>).<span class="title function_">stop</span>().<span class="title function_">slideToggle</span>();</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;)</span><br></pre></td></tr></table></figure>
<p>鼠标事件<br>click: 鼠标单击时触发；<br>dblclick：鼠标双击时触发；<br>mouseenter：鼠标进入时触发；<br>mouseleave：鼠标移出时触发；<br>mousemove：鼠标在DOM内部移动时触发；<br>hover：鼠标进入和退出时触发两个函数，相当于mouseenter加上mouseleave。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">hover</span>([over,]out)     <span class="comment">// 其中over和out为两个函数</span></span><br></pre></td></tr></table></figure>
<p>over:鼠标移到元素上要触发的函数（相当于mouseenter）<br>out:鼠标移出元素要触发的函数（相当于mouseleave）<br>如果只写一个函数，则鼠标经过和离开都会触发它</p>
<p>键盘事件<br>键盘事件仅作用在当前焦点的DOM上，通常是&lt; input&gt;和&lt; textarea&gt;。<br>keydown：键盘按下时触发；<br>keyup：键盘松开时触发；<br>keypress：按一次键后触发。</p>
<p>其他事件<br>focus：当DOM获得焦点时触发；<br>blur：当DOM失去焦点时触发；<br>change：当&lt; input&gt;、&lt; select&gt;或&lt; textarea&gt;的内容改变时触发；<br>submit：当&lt; form&gt;提交时触发；<br>ready：当页面被载入并且DOM树完成初始化后触发。<br>其中，ready仅作用于document对象。由于ready事件在DOM完成初始化后触发，且只触发一次，所以非常适合用来写其他的初始化代码。<br><code>$(function() &#123;&#125;) </code>是 jQuery 中的一个简写，用来在 DOM 加载完成后执行某段代码。它相当于<code> $(document).ready(function() &#123;...&#125;)</code>，用于确保在 HTML 文档加载并且 DOM 树构建完成后，再执行你的 JavaScript 代码。</p>
<h2 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h2><p>显示隐藏：show() &#x2F; hide() &#x2F; toggle() ;<br>这三种都包含同样参数：<br><img src="https://i-blog.csdnimg.cn/direct/c38fdcab70164ad49e27078074ca22c8.png" alt="在这里插入图片描述"><br>划入画出：slideDown()下滑动 &#x2F; slideUp() 上滑动&#x2F; slideToggle() 滑动切换; 同理参数<br><img src="https://i-blog.csdnimg.cn/direct/655ae4621ffe450891ee32b0518ebe1a.png" alt="在这里插入图片描述"><br>淡入淡出：fadeIn() &#x2F; fadeOut() &#x2F; fadeToggle() &#x2F; fadeTo()调整不透明度 ; 前三个参数还是一样<br><img src="https://i-blog.csdnimg.cn/direct/9a4b9bedee074f79b70cd9a6bb2cdea7.png" alt="在这里插入图片描述"><br>自定义动画：animate() ;可以模拟显示隐藏、滑入滑出、淡入淡出等动画，使用原则为哪个方便用哪个。jQuery中的animate()不能实现背景色渐变，需要引入插件</p>
<blockquote>
<p>jQuery不能对   background-color   进行动画效果  ，在 animate()设置background-color也没有效果。可以使用CSS3的transition实现动画效果</p>
<p><img src="https://i-blog.csdnimg.cn/direct/1a7ae7fb8c1c491089c84baea1570c4d.png" alt="在这里插入图片描述"><br>停止动画排队：stop() ;<br>每次使用动画之前，先调用 stop() 停止结束上一次的动画,在调用动画。<br>注意：动画或者效果一旦触发就会执行，如果多次触发，就造成多个动画或者效果排队执行。停止动画排队：stop() ;</p>
</blockquote>
<p>暂停：delay()</p>
<p><strong>为什么有的动画没效果？</strong><br> 1)属性不是block 设置Height不起作用<br> 2)jQuery不能对   background-color   进行动画效果  ，在 animate()设置background-color也没有效果。可以使用CSS3的transition实现动画效果</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"> $(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            $(<span class="string">&quot;button&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">                $(<span class="string">&quot;div&quot;</span>).<span class="title function_">animate</span>(&#123;</span><br><span class="line">                    <span class="attr">left</span>: <span class="number">500</span>,</span><br><span class="line">                    <span class="attr">top</span>: <span class="number">300</span>,</span><br><span class="line">                    <span class="attr">opacity</span>: <span class="number">.4</span>,</span><br><span class="line">                    <span class="attr">width</span>: <span class="number">500</span></span><br><span class="line">                &#125;, <span class="number">500</span>);</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//只要传递一个时间参数进去，就变成了动画：</span></span><br><span class="line"><span class="keyword">var</span> div = $(<span class="string">&#x27;#test-show-hide&#x27;</span>); <span class="comment">// # id </span></span><br><span class="line">div.<span class="title function_">hide</span>(<span class="number">3000</span>); <span class="comment">// 在3秒钟内逐渐消失</span></span><br><span class="line">div.<span class="title function_">show</span>(<span class="string">&#x27;slow&#x27;</span>); <span class="comment">// 在0.6秒钟内逐渐显示</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//toggle()方法则根据当前状态决定是show()还是hide()</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//show()和hide()是从左上角逐渐展开或收缩的，</span></span><br><span class="line"><span class="comment">//而slideUp()/slideDown()/slideToggle()则是在垂直方向逐渐展开或收缩的。</span></span><br><span class="line"></span><br><span class="line"><span class="number">3</span>、 fadeIn / fadeOut         </span><br><span class="line">  <span class="title function_">fadeIn</span>()和<span class="title function_">fadeOut</span>()的动画效果是淡入淡出，也就是通过不断设置<span class="variable constant_">DOM</span>元素的opacity属性来实现，而<span class="title function_">fadeToggle</span>()则根据元素是否可见来决定下一步动作：</span><br><span class="line"> <span class="keyword">var</span> div = $(<span class="string">&#x27;#test-fade&#x27;</span>);</span><br><span class="line">div.<span class="title function_">fadeOut</span>(<span class="string">&#x27;slow&#x27;</span>); <span class="comment">// 在0.6秒内淡出     </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> div = $(<span class="string">&#x27;#test-animate&#x27;</span>);</span><br><span class="line">div.<span class="title function_">animate</span>(&#123;</span><br><span class="line">    <span class="attr">opacity</span>: <span class="number">0.25</span>,</span><br><span class="line">    <span class="attr">width</span>: <span class="string">&#x27;256px&#x27;</span>,</span><br><span class="line">    <span class="attr">height</span>: <span class="string">&#x27;256px&#x27;</span></span><br><span class="line">&#125;, <span class="number">3000</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;动画已结束&#x27;</span>);</span><br><span class="line">    <span class="comment">// 恢复至初始状态:</span></span><br><span class="line">    $(<span class="variable language_">this</span>).<span class="title function_">css</span>(<span class="string">&#x27;opacity&#x27;</span>, <span class="string">&#x27;1.0&#x27;</span>).<span class="title function_">css</span>(<span class="string">&#x27;width&#x27;</span>, <span class="string">&#x27;128px&#x27;</span>).<span class="title function_">css</span>(<span class="string">&#x27;height&#x27;</span>, <span class="string">&#x27;128px&#x27;</span>);</span><br><span class="line">&#125;);         </span><br><span class="line"></span><br><span class="line"><span class="title function_">delay</span>()方法 实现暂停</span><br><span class="line"><span class="comment">// 动画效果：slideDown - 暂停 - 放大 - 暂停 - 缩小</span></span><br><span class="line">div.<span class="title function_">slideDown</span>(<span class="number">2000</span>)</span><br><span class="line">   .<span class="title function_">delay</span>(<span class="number">1000</span>)</span><br><span class="line">   .<span class="title function_">animate</span>(&#123;</span><br><span class="line">       <span class="attr">width</span>: <span class="string">&#x27;256px&#x27;</span>,</span><br><span class="line">       <span class="attr">height</span>: <span class="string">&#x27;256px&#x27;</span></span><br><span class="line">   &#125;, <span class="number">2000</span>)</span><br><span class="line">   .<span class="title function_">delay</span>(<span class="number">1000</span>)</span><br><span class="line">   .<span class="title function_">animate</span>(&#123;</span><br><span class="line">       <span class="attr">width</span>: <span class="string">&#x27;128px&#x27;</span>,</span><br><span class="line">       <span class="attr">height</span>: <span class="string">&#x27;128px&#x27;</span></span><br><span class="line">   &#125;, <span class="number">2000</span>);</span><br><span class="line"> <span class="comment">// 因为动画需要执行一段时间，</span></span><br><span class="line"> <span class="comment">//所以jQuery必须不断返回新的Promise对象才能后续执行操作。简单地把动画封装在函数中是不够的。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          </span></span><br></pre></td></tr></table></figure>
<h1 id="AJAX"><a href="#AJAX" class="headerlink" title="&#x3D;&#x3D;AJAX&#x3D;&#x3D;"></a>&#x3D;&#x3D;AJAX&#x3D;&#x3D;</h1> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"> <span class="title class_">JavaScript</span>：不同浏览器需要写不同代码，并且状态和错误处理写起来很麻烦</span><br><span class="line"> jQuery的相关对象来处理<span class="variable constant_">AJAX</span>，不但不需要考虑浏览器问题，代码也能大大简化</span><br><span class="line"></span><br><span class="line">jQuery在全局对象jQuery（也就是$）绑定了<span class="title function_">ajax</span>()函数，可以处理<span class="variable constant_">AJAX</span>请求</span><br><span class="line"><span class="title function_">ajax</span>(url, settings)函数需要接收一个<span class="variable constant_">URL</span>和一个可选的settings对象</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span>：是否异步执行<span class="variable constant_">AJAX</span>请求，默认为<span class="literal">true</span>，千万不要指定为<span class="literal">false</span></span><br><span class="line">method：发送的<span class="title class_">Method</span>，缺省为<span class="string">&#x27;GET&#x27;</span>，可指定为<span class="string">&#x27;POST&#x27;</span>、<span class="string">&#x27;PUT&#x27;</span>等</span><br><span class="line">contentType：发送<span class="variable constant_">POST</span>请求的格式，默认值为<span class="string">&#x27;application/x-www-form-urlencoded; charset=UTF-8&#x27;</span>，也可以指定为text/plain、application/json</span><br><span class="line">data：发送的数据，可以是字符串、数组或object。如果是<span class="variable constant_">GET</span>请求，data将被转换成query附加到<span class="variable constant_">URL</span>上，如果是<span class="variable constant_">POST</span>请求，根据contentType把data序列化成合适的格式；</span><br><span class="line">headers：发送的额外的<span class="variable constant_">HTTP</span>头，必须是一个object</span><br><span class="line">dataType：返回、接收的数据格式，可以指定为<span class="string">&#x27;html&#x27;</span>、<span class="string">&#x27;xml&#x27;</span>、<span class="string">&#x27;json&#x27;</span>、<span class="string">&#x27;text&#x27;</span>等，缺省情况下根据响应的<span class="title class_">Content</span>-<span class="title class_">Type</span>猜测。</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> jqxhr = $.<span class="title function_">ajax</span>(<span class="string">&#x27;/api/categories&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">dataType</span>: <span class="string">&#x27;json&#x27;</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 请求已经发送了</span></span><br><span class="line"></span><br><span class="line">如何用回调函数处理返回的数据和出错时的响应呢</span><br><span class="line">jQuery的jqXHR对象类似一个<span class="title class_">Promise</span>对象，我们可以用链式写法来处理各种回调：</span><br><span class="line"></span><br><span class="line">格式：</span><br><span class="line"><span class="keyword">var</span> jqxhr = $.<span class="title function_">ajax</span>(<span class="string">&#x27;/api/categories&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">dataType</span>: <span class="string">&#x27;json&#x27;</span></span><br><span class="line">&#125;).<span class="title function_">done</span>(<span class="keyword">function</span> (<span class="params">data</span>) &#123;</span><br><span class="line">    <span class="title function_">ajaxLog</span>(<span class="string">&#x27;成功, 收到的数据: &#x27;</span> + <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(data));</span><br><span class="line">&#125;).<span class="title function_">fail</span>(<span class="keyword">function</span> (<span class="params">xhr, status</span>) &#123;</span><br><span class="line">    <span class="title function_">ajaxLog</span>(<span class="string">&#x27;失败: &#x27;</span> + xhr.<span class="property">status</span> + <span class="string">&#x27;, 原因: &#x27;</span> + status);</span><br><span class="line">&#125;).<span class="title function_">always</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">ajaxLog</span>(<span class="string">&#x27;请求完成: 无论成功或失败都会调用&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>)get</span><br><span class="line"><span class="keyword">var</span> jqxhr = $.<span class="title function_">get</span>(<span class="string">&#x27;/path/to/resource&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Bob Lee&#x27;</span>,</span><br><span class="line">    <span class="attr">check</span>: <span class="number">1</span></span><br><span class="line">&#125;);</span><br><span class="line">第二个参数如果是object，jQuery自动把它变成query string然后加到<span class="variable constant_">URL</span>后面</span><br><span class="line">则<span class="variable constant_">URL</span>为 /path/to/resource?name=<span class="title class_">Bob</span>%20Lee&amp;check=<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="number">2</span>）post</span><br><span class="line">传入的第二个参数默认被序列化为application/x-www-form-urlencoded</span><br><span class="line"><span class="keyword">var</span> jqxhr = $.<span class="title function_">post</span>(<span class="string">&#x27;/path/to/resource&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Bob Lee&#x27;</span>,</span><br><span class="line">    <span class="attr">check</span>: <span class="number">1</span></span><br><span class="line">&#125;);</span><br><span class="line">实际构造的数据name=<span class="title class_">Bob</span>%20Lee&amp;check=<span class="number">1</span>作为<span class="variable constant_">POST</span>的body被发送。</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>)<span class="title class_">JSON</span></span><br><span class="line"><span class="title function_">getJSON</span>()方法来快速通过<span class="variable constant_">GET</span>获取一个<span class="title class_">JSON</span>对象</span><br><span class="line"><span class="keyword">var</span> jqxhr = $.<span class="title function_">getJSON</span>(<span class="string">&#x27;/path/to/resource&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Bob Lee&#x27;</span>,</span><br><span class="line">    <span class="attr">check</span>: <span class="number">1</span></span><br><span class="line">&#125;).<span class="title function_">done</span>(<span class="keyword">function</span> (<span class="params">data</span>) &#123;</span><br><span class="line">    <span class="comment">// data已经被解析为JSON对象了</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">jQuery的<span class="variable constant_">AJAX</span>完全封装的是<span class="title class_">JavaScript</span>的<span class="variable constant_">AJAX</span>操作，所以它的安全限制和前面讲的用<span class="title class_">JavaScript</span>写<span class="variable constant_">AJAX</span>完全一样。</span><br><span class="line">需要使用<span class="title class_">JSON</span>P，可以在<span class="title function_">ajax</span>()中设置<span class="attr">jsonp</span>: <span class="string">&#x27;callback&#x27;</span>，让jQuery实现<span class="title class_">JSON</span>P跨域加载数据</span><br><span class="line"></span><br><span class="line">跨域的安全限制都是对浏览器端来说的，服务器端是不存在跨域安全限制的。</span><br><span class="line"></span><br><span class="line">在页面上直接发起一个跨域的ajax请求是不可以的，但是，在页面上引入不同域上的js脚本却是可以的，就像你可以在自己的页面上使用&lt; img src=<span class="string">&quot;&quot;</span>&gt; 标签来随意显示某个域上的图片一样。</span><br><span class="line"></span><br><span class="line">jquery的jsonp方式跨域请求 这一块详见<span class="attr">https</span>:<span class="comment">//www.cnblogs.com/chiangchou/p/jsonp.html</span></span><br></pre></td></tr></table></figure>

<h1 id="编写jQuery插件"><a href="#编写jQuery插件" class="headerlink" title="&#x3D;&#x3D;编写jQuery插件&#x3D;&#x3D;"></a>&#x3D;&#x3D;编写jQuery插件&#x3D;&#x3D;</h1> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"> </span><br><span class="line">高亮显示某些DOM元素，用jQuery可以这么实现：</span><br><span class="line">$(&#x27;span.hl&#x27;).css(&#x27;backgroundColor&#x27;, &#x27;#fffceb&#x27;).css(&#x27;color&#x27;, &#x27;#d85030&#x27;);</span><br><span class="line">$(&#x27;p a.hl&#x27;).css(&#x27;backgroundColor&#x27;, &#x27;#fffceb&#x27;).css(&#x27;color&#x27;, &#x27;#d85030&#x27;);</span><br><span class="line"></span><br><span class="line">能不能统一起来，写个highlight()方法</span><br><span class="line">$(&#x27;span.hl&#x27;).highlight();</span><br><span class="line">$(&#x27;p a.hl&#x27;).highlight();</span><br><span class="line"></span><br><span class="line">可以编写jQuery插件,扩展jQuery来实现自定义方法</span><br><span class="line"></span><br><span class="line">给jQuery对象绑定一个新方法是通过扩展$.fn对象实现的</span><br><span class="line">$.fn.highlight1 = function () &#123;</span><br><span class="line">    // this已绑定为当前jQuery对象:</span><br><span class="line">    this.css(&#x27;backgroundColor&#x27;, &#x27;#fffceb&#x27;).css(&#x27;color&#x27;, &#x27;#d85030&#x27;);</span><br><span class="line">    return this;</span><br><span class="line">&#125;</span><br><span class="line">注意到函数内部的this在调用时被绑定为jQuery对象，所以函数内部代码可以正常调用所有jQuery对象的方法。</span><br><span class="line">为什么最后要return this;？因为jQuery对象支持链式操作，我们自己写的扩展方法也要能继续链式下去：</span><br><span class="line">即：还可以</span><br><span class="line">$(&#x27;span.hl&#x27;).highlight1().slideDown();</span><br><span class="line"></span><br><span class="line">我们可以给方法加个参数，让用户自己把参数用对象传进去。于是</span><br><span class="line">$.fn.highlight2 = function (options) &#123;</span><br><span class="line">    // 要考虑到各种情况:</span><br><span class="line">    // options为undefined</span><br><span class="line">    // options只有部分key</span><br><span class="line">    var bgcolor = options &amp;&amp; options.backgroundColor || &#x27;#fffceb&#x27;;</span><br><span class="line">    var color = options &amp;&amp; options.color || &#x27;#d85030&#x27;;</span><br><span class="line">    this.css(&#x27;backgroundColor&#x27;, bgcolor).css(&#x27;color&#x27;, color);</span><br><span class="line">    return this;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">另一种方法是使用jQuery提供的辅助方法$.extend(target, obj1, obj2, ...)，它把多个object对象的属性合并到第一个target对象中，遇到同名属性，总是使用靠后的对象的值，也就是越往后优先级越高</span><br><span class="line">// 把默认值和用户传入的options合并到对象&#123;&#125;中并返回:</span><br><span class="line">var opts = $.extend(&#123;&#125;, &#123;</span><br><span class="line">    backgroundColor: &#x27;#00a8e6&#x27;,</span><br><span class="line">    color: &#x27;#ffffff&#x27;</span><br><span class="line">&#125;, options);//优先使用用户自定义的option</span><br><span class="line"></span><br><span class="line">每次调用都需要传入自定义的设置，能不能让我自己设定一个缺省值，以后的调用统一使用无参数的highlight2()？我们设定的默认值应该能允许用户修改。</span><br><span class="line"></span><br><span class="line">那默认值放哪比较合适？放全局变量肯定不合适，最佳地点是$.fn.highlight2这个函数对象本身</span><br><span class="line">$.fn.highlight = function (options) &#123;</span><br><span class="line">    // 合并默认值和用户设定值:</span><br><span class="line">    var opts = $.extend(&#123;&#125;, $.fn.highlight.defaults, options);</span><br><span class="line">    this.css(&#x27;backgroundColor&#x27;, opts.backgroundColor).css(&#x27;color&#x27;, opts.color);</span><br><span class="line">    return this;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 设定默认值:</span><br><span class="line">$.fn.highlight.defaults = &#123;</span><br><span class="line">    color: &#x27;#d85030&#x27;,</span><br><span class="line">    backgroundColor: &#x27;#fff8de&#x27;</span><br><span class="line">&#125;</span><br><span class="line">用户使用时，只需一次性设定默认值：</span><br><span class="line"></span><br><span class="line">$.fn.highlight.defaults.color = &#x27;#fff&#x27;;</span><br><span class="line">$.fn.highlight.defaults.backgroundColor = &#x27;#000&#x27;;</span><br><span class="line"></span><br><span class="line">编写一个jQuery插件的原则：</span><br><span class="line"></span><br><span class="line">给$.fn绑定函数，实现插件的代码逻辑；</span><br><span class="line">插件函数最后要return this;以支持链式调用；</span><br><span class="line">插件函数要有默认值，绑定在$.fn.&lt;pluginName&gt;.defaults上；</span><br><span class="line">用户在调用时可传入设定值以便覆盖默认值。</span><br><span class="line"></span><br><span class="line">我们知道jQuery对象的有些方法只能作用在特定DOM元素上，比如submit()方法只能针对form。如果我们编写的扩展只能针对某些类型的DOM元素，应该怎么写？</span><br><span class="line">还记得jQuery的选择器支持filter()方法来过滤吗？我们可以借助这个方法来实现针对特定元素的扩展。</span><br><span class="line"></span><br><span class="line">举个例子，现在我们要给所有指向外链的超链接加上跳转提示，怎么做？</span><br><span class="line">先写出用户调用的代码：</span><br><span class="line">$(&#x27;#main a&#x27;).external();</span><br><span class="line">编写一个external扩展：</span><br><span class="line">$.fn.external = function () &#123;</span><br><span class="line">    // return返回的each()返回结果，支持链式调用:</span><br><span class="line">    return this.filter(&#x27;a&#x27;).each(function () &#123;</span><br><span class="line">        // 注意: each()内部的回调函数的this绑定为DOM本身!</span><br><span class="line">        var a = $(this);</span><br><span class="line">        var url = a.attr(&#x27;href&#x27;);</span><br><span class="line">        if (url &amp;&amp; (url.indexOf(&#x27;http://&#x27;)===0 || url.indexOf(&#x27;https://&#x27;)===0)) &#123;</span><br><span class="line">            a.attr(&#x27;href&#x27;, &#x27;#0&#x27;)</span><br><span class="line">             .removeAttr(&#x27;target&#x27;)</span><br><span class="line">             .append(&#x27; &lt;i class=&quot;uk-icon-external-link&quot;&gt;&lt;/i&gt;&#x27;)</span><br><span class="line">             .click(function () &#123;</span><br><span class="line">                if(confirm(&#x27;你确定要前往&#x27; + url + &#x27;？&#x27;)) &#123;</span><br><span class="line">                    window.open(url);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

            </div>
        </div>
    </article>

    
    
<nav class="article-nav">
  
    <a href="/2025/03/24/JS%E6%B7%B1%E5%85%A5%E5%AD%A6%E4%B9%A0/" id="article-nav-newer" class="article-nav-link-wrap prev">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          JS深入学习
        
      </div>
    </a>
  
  
    <a href="/2025/03/24/BOM-DOM/" id="article-nav-older" class="article-nav-link-wrap next">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">BOM &amp; DOM</div>
    </a>
  
</nav>

    

    
</div>
    </div>
    <footer class="site-footer">
        <div class="global-width">
            <ul class="site-widget">
                
                <li class="widget widget-tag">
                    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget-body">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/English/" rel="tag">English</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/basics/" rel="tag">basics</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/frontend/" rel="tag">frontend</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/projects/" rel="tag">projects</a><span class="tag-list-count">3</span></li></ul>
    </div>
  </div>

                </li>
                
                <li class="widget widget-category">
                    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget-body">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/daily-report/">daily_report</a><span class="category-list-count">37</span></li></ul>
    </div>
  </div>

                </li>
                
                <li class="widget widget-recent_posts">
                    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget-body">
      <ul>
        
          <li>
            <a href="/2025/03/24/%E3%80%90%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F%E3%80%91-yml%E6%96%87%E4%BB%B6-YAML%E6%A0%BC%E5%BC%8F%E6%96%87%E4%BB%B6-JSON%E6%96%87%E4%BB%B6/">【文件格式】.yml文件_YAML格式文件_JSON文件</a>
          </li>
        
          <li>
            <a href="/2025/03/24/JS%E6%B7%B1%E5%85%A5%E5%AD%A6%E4%B9%A0/">JS深入学习</a>
          </li>
        
          <li>
            <a href="/2025/03/24/jQuery%E4%B8%80%E6%9C%AC%E9%80%9A/">jQuery一本通</a>
          </li>
        
          <li>
            <a href="/2025/03/24/BOM-DOM/">BOM &amp; DOM</a>
          </li>
        
          <li>
            <a href="/2025/03/24/%E6%97%A5%E6%8A%A53-23/">日报3.23</a>
          </li>
        
      </ul>
    </div>
  </div>

                </li>
                
            </ul>
        </div>
        <div class="site-info">
            <address>
                &copy; 2014 <a href="https://70v-yoyo.github.io">Yoyo&#39;s blog</a> All Right Reserved. <br/>
                Powered by <a target="_blank" rel="noopener" href="http://hexo.io">Hexo</a>. Theme by <a target="_blank" rel="noopener" href="http://zzoman.com">ZZOMAN</a>
                <p><a target="_blank" href="https://github.com/70v-Yoyo">My github</a></p>
            </address>
        </div>
    </footer> 
    
    
    <script src="/libs/jquery-1.11.3.min.js" type="text/javascript"></script>
    
    <script src="/libs/fancybox/jquery.fancybox.js" type="text/javascript"></script>
    
    <script src="/js/site_init.js" type="text/javascript"></script>
     
    <noscript>
        <style>
            article {
                position: absolute;
                width: 0;
                height: 0;
                overflow: hidden;
                opacity: 0;
            }

        </style>
        <h1>JS已被禁用</h1>
    </noscript>
</body>
</html>
